@page "/plans"
@inherits EditableDataGridPage<PayMonthlyPlan>

@{
    base.BuildRenderTree(__builder);
}

<MudDataGrid
    @ref="DataGrid" T="PayMonthlyPlan" ServerData="@(new Func<GridState<PayMonthlyPlan>, Task<GridData<PayMonthlyPlan>>>(GridServerReload))"
    SortMode="SortMode.Multiple" Filterable="true" FilterMode="DataGridFilterMode.ColumnFilterMenu"
    RowClick="@RowClicked" RowStyleFunc="@RowStyleFunc" SelectOnRowClick="false"
    ReadOnly="@ReadOnly" EditMode="DataGridEditMode.Cell"
    CommittedItemChanges="@CommittedRowChanges"
    MultiSelection="true" SelectedItemsChanged="@SelectedRowsChanged" SelectedItems="@SelectedRows"
    Dense="true" Hover="true" Striped="true" Bordered="true" Height="calc(100vh - 9.8rem)">
    <Columns>
        <SelectColumn T="PayMonthlyPlan" ShowInFooter="false"/>
        <PropertyColumn Property="@(x => x.PlanId)" Title="ID"/>
        <PropertyColumn Property="@(x => x.PlanName)" Title="Name"/>
        <PropertyColumn Property="@(x => x.LocalSize)" Title="Local Size"/>
        <PropertyColumn Property="@(x => x.NationalSize)" Title="National Size"/>
        <PropertyColumn Property="@(x => x.MobileSize)" Title="Mobile Size"/>
        <PropertyColumn Property="@(x => x.InternationalSize)" Title="International Size"/>
        <PropertyColumn Property="@(x => x.TollFreeLandlineSize)" Title="Toll Free Landline Size"/>
        <PropertyColumn Property="@(x => x.TollFreeMobileSize)" Title="Toll Free Mobile Size"/>
        <PropertyColumn Property="@(x => x.Price)" Title="Price"/>
        <PropertyColumn Property="@(x => x.MinPrice)" Title="Min Price"/>
    </Columns>
     <NoRecordsContent>
         <MudText>No matching plans found</MudText>
     </NoRecordsContent>
     <LoadingContent>
         <MudText>Loading plans...</MudText>
     </LoadingContent>
    <PagerContent>
        <MudDataGridPager T="PayMonthlyPlan" PageSizeOptions="new[] { 25, 50, 100 }"/>
    </PagerContent>
</MudDataGrid>