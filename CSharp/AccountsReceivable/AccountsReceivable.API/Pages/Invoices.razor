@page "/invoices"

<Breadcrumb Items="_breadcrumb" />

<MudDataGrid 
    @ref="_dataGrid"
    T="Document"
    ServerData="@(new Func<GridState<Document>, Task<GridData<Document>>>(GridServerReload))"
    SortMode="SortMode.Multiple"
    Filterable="true"
    RowClick="@RowClicked"
    Dense="true"
    Hover="true"
    Striped="true"
    RowStyleFunc="@_rowStyleFunc">
    <Columns>
        <PropertyColumn Property="x => x.DateProcessed" Format="dd/MM/yyyy" Title="Date"/>
        <PropertyColumn Property="x => x.KillSheet"/>
        <PropertyColumn Property="x => x.Farm.Name" Title="Farm"/>
        <PropertyColumn Property="x => x.SpeciesType.DisplayName" Title="Species"/>
        <PropertyColumn Property="x => x.StockCount" Title="Stock Count"/>
        <PropertyColumn Property="x => x.WeightTotal" Title="Stock Weight"/>
        <PropertyColumn Property="x => x.Plant.Name" Title="Plant (Works)"/>
        <PropertyColumn Property="x => x.StatusId" Title="Approval Status"/>
        <PropertyColumn Property="x => x.TransitId" Title="ATS Status"/>
    </Columns>
     <NoRecordsContent>
         <MudText>No matching Created Invoices found</MudText>
     </NoRecordsContent>
     <LoadingContent>
         <MudText>Loading Buyer Created Invoices...</MudText>
     </LoadingContent>
    <PagerContent>
        <MudDataGridPager T="Document" PageSizeOptions="new[] { 20, 40, 80 }"/>
    </PagerContent>
</MudDataGrid>