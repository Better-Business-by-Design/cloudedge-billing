@page "/invoices"
@inherits DataGridPage<Document>

<Breadcrumb Items="_breadcrumb" />

<MudDataGrid 
    @ref="DataGrid" T="Document" ServerData="@(new Func<GridState<Document>, Task<GridData<Document>>>(GridServerReload))"
    SortMode="SortMode.Multiple" Filterable="true" FilterMode="DataGridFilterMode.ColumnFilterMenu"
    RowClick="@RowClicked" RowStyleFunc="@RowStyleFunc"
    Dense="true" Hover="true" Striped="true" Bordered="true" Height="calc(100vh - 9.8rem)">
    <Columns>
        <PropertyColumn Property="@(x => x.DateProcessed)" Format="dd/MM/yyyy" Title="Date"/>
        <PropertyColumn Property="@(x => x.KillSheet)"/>
        <PropertyColumn Property="@(x => x.Farm.Name)" Title="Farm"/>
        <PropertyColumn Property="@(x => x.SpeciesType.DisplayName)" Title="Species"/>
        <PropertyColumn Property="@(x => x.StockCount)" Title="Stock Count"/>
        <PropertyColumn Property="@(x => x.WeightTotal)" Title="Stock Weight"/>
        <PropertyColumn Property="@(x => x.Plant.Name)" Title="Plant (Works)"/>
        <PropertyColumn Property="@(x => x.CalcValidationId)" Title="Calculation Validation"/>
        <PropertyColumn Property="@(x => x.TransitValidationId)" Title="ATS Validation"/>
        <PropertyColumn Property="@(x => x.StatusId)" Title="Approval Status"/>
    </Columns>
     <NoRecordsContent>
         <MudText>No matching Created Invoices found</MudText>
     </NoRecordsContent>
     <LoadingContent>
         <MudText>Loading Buyer Created Invoices...</MudText>
     </LoadingContent>
    <PagerContent>
        <MudDataGridPager T="Document" PageSizeOptions="new[] { 25, 50, 100 }"/>
    </PagerContent>
</MudDataGrid>